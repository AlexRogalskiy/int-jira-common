language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "gsEiYW25DPpwEUvqKc61+x8UTa9FrS1MhYftfb6gbOKFmPo0+8JhswDAbv2rs2m5ecleKDrbaw8p6UuKsFL21wTB3EhdgFhyh30TDalk42dzjzfX8hLFWtY4KxOksHT9/qqkcNXl2cgHwOje0aN6u18Rne4gGQy40NeXgWjfB8b4p5vQiVjSoVloPtaW71KxcRZAcpKwinKuAlJnWKoIA7+pde0ObZYeruMeCiihkYJg7t1NOaDYQ4L5Zzala1lrLD78A3NqYPDgNXy3Qbe127iPmGt4++DGprm5Wq3pzEAHnQl9IaGmi/CgeFNghdtLh2e5vbF9kA21zrO9pfTb0sRKFizvgHgTTw63S7zrI9cvHKzsLdpbGnPsMecfdCOgRRtvzj4Knza2S05v6YnOsk3LcIxKEZkyid4/Q/hXk9hMgNkT8q7abLDh3FLwZKvAQZdqlXZT7O7vN7/NE0mYfqi1sqbLXfs+84wQyfCCwxD+e6EX2mxuBPS0TtpDQADJC9UzRdty8NYvhVKt2pxIwLV3uyZMylTI/IBCa9VFVJblFYCT4nyEIcx1LaAmdGAxW0xCKOYC+UGr7VA0E0b+lI8B+PK2/7kc/b+3YXRWkc6Ymftr37I7LK/SJYbhnwmC/PStwS1gWFTeMxIJI0yJUlYXRXgyT7ZTIfGdA/0Z/7U="

jdk:
  - openjdk8

notifications:
  email:
    recipients:
      - bdsoss@blackducksoftware.com

script:
  - "./gradlew clean build jacocoTestReport coveralls sonarqube"

env:
  - DETECT_GRADLE_INCLUDED_CONFIGURATIONS=compile

after_success:
  - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
    - "$HOME/.m2/repository"
    - "$HOME/.sonar/cache"
    - "$HOME/.gradle"
    - ".gradle"

